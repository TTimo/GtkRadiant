<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Compiling GtkRadiant on Windows</title>
    <style type="text/css">
      body
      {
        color: black;
        background-color: white;
        font-family: sans-serif;
        margin: 1em 1em 1em 1em;
      }
      a { color: blue; text-decoration: underline; }
      a:hover { color: red; text-decoration: underline; }
      .error { color: #dd0000; }
    </style>
  </head>
  <body>
    <div style="left:0px; top:0px; width:88px; height:31px; position:absolute">
      <a href="http://validator.w3.org/check?uri=referer">
        <img src="http://www.w3.org/Icons/valid-xhtml10"
             style="border-style:none"
             alt="Valid XHTML 1.0!" height="31" width="88" />
      </a>
    </div>
    <br />
    <center><h1>Compiling GtkRadiant on Windows</h1></center>
    <hr />
    <p>This guide explains how to compile GtkRadiant 1.6.x from source code on Windows operating systems.
      The source code is obtained from
      the GtkRadiant Git repository, which is open to the public (details follow).
      These instructions are aimed at developers wanting to test changes to GtkRadiant source code.
      The instructions below have been executed successfully on
      Windows XP 32 bit (some late service pack) and on Windows 7 Professional 64 bit.</p>
    <p>This guide is divided into the following main sections.
    </p>
    <ul>
      <li><h3><a href="#git">Section 1: Installing Git</a></h3></li>
      <li><h3><a href="#python">Section 2: Installing Python</a></h3></li>
      <li><h3><a href="#scons">Section 3: Installing SCons</a></h3></li>
      <li><h3><a href="#svn">Section 4: Installing SVN</a></h3></li>
      <li><h3><a href="#vcpp">Section 5: Installing Visual C++</a></h3></li>
      <li><h3><a href="#sources">Section 6: Obtaining Source Code, Game Paks, and Libs</a></h3></li>
      <li><h3><a href="#compile">Section 7: Compiling GtkRadiant</a></h3></li>
      <li><h3><a href="#run">Section 8: Running GtkRadiant</a></h3></li>
    </ul>
    <hr />
    <br />
	<a name "git"></a>
	<h2>Section 1: Installing Git</h2>
	<p>
	  First to install is the Git, Git is a powerful distributed Source Code Management tool and the versioning tool of choice for GtkRadiant development.
	</p>
	<p>
		The hompepage for Git is <a href="http://git-scm.com/">git-scm.com</a>, but we are more interested in 
		<a href="http://code.google.com/p/msysgit/">code.google.com/p/msysgit/</a> because this is the windows port of git. You should
		download and install the newest "Full installer for official Git for Windows".
	</p>
	<hr />
	<br />
    <a name="python"></a>
    <h2>Section 2: Installing Python</h2>
    <p>We will now install the Python programming language, which is needed for SCons to work.</p>
    <p>
      The homepage for Python is <a href="http://www.python.org/download">www.python.org</a>.  You should download and install
      a 32 bit version of Python, because scons is only avaiable in 32 bit builds.  I would strongly recommend sticking to a version of Python
      that is 2.x.x, <i>not</i> 3.x.x.  This is because lots of legacy software that uses Python is known to work correctly
      with 2.x.x, but might not necessarily work with 3.x.x.  At the time of writing this tutorial, the preferred version of Python
      was 2.7.1.  For purposes of this tutorial, Python is installed to <tt>C:\Python27</tt> .  All of the default
      options for installing Python should be fine.
    </p>
    <hr />
    <br />
    <a name="scons"></a>
    <h2>Section 3: Installing SCons</h2>
    <p>We will now install SCons, which is a multi-platform substitute for traditional Make.</p>
    <p>
      The homepage for SCons is <a href="http://www.scons.org/download.php">www.scons.org</a>.  You should download and install the
      latest production release.  During the install procedure you will be asked to confirm the location of your Python
      installation.
    </p>
    <hr />
    <br />
    <a name="svn"></a>
    <h2>Section 4: Installing SVN</h2>
    <p>
      We're now going to install a command-line version of the SVN client that we can use from cmd.  We don't need no
      stinkin' GUI.  Anyhow, command-line SVN is required to perform the SCons build target later on.
      In fact, you don't need to touch TortoiseSVN or any other GUI-based SVN client for any part of this entire tutorial.
      (I wouldn't touch a GUI-based SVN client with a 10 foot pole given the opportunity to use command-line SVN instead.)
    </p>
    <p>
      The preferred download site for SVN client for Windows is <a href="http://www.collab.net/downloads/subversion/">CollabNet</a>.
      You should download and install CollabNet Subversion Command-Line Client,
      <i>not</i> CollabNet Subversion Edge or something of any other nature.  Unfortunately you'll have to create an account with CollabNet
      to download this software, but everything is free.  You can use all defaults when installing SVN.
    </p>
    <p>
      The CollabNet version of SVN client for Windows should automatically modify your <tt>PATH</tt> , and you should be able to
      execute the <tt>svn</tt> command in cmd after closing cmd and starting it again.  If this is not the case for some strange
      reason, you'll have to tweak your environment to ensure that you can execute the <tt>svn</tt> command from cmd.
    </p>
    <hr />
    <br />
    <a name="vcpp"></a>
    <h2>Section 5: Installing Visual C++</h2>
    <p>
      The GtkRadiant developers are currently using Microsoft Visual C++ 2008 to compile GtkRadiant.  Even though Visual C++ 2010 is a newer
      version, don't use it [unless you want to be on your own].  You can download Visual C++ 2008 Express Edition from
      <a href="http://www.microsoft.com/visualstudio/en-us/products/2008-editions/express">this Microsoft webpage</a>.
    </p>
    <p>
      When you install Visual C++ 2008 Express Edition, you can install the bare minimum application <i>without</i> any extras such as
      Microsoft Silverlight Runtime or Microsoft SQL Server 2008 Express Edition.  For the rest of the install options, the
      defaults can be chosen.
    </p>
    <hr />
    <br />
    <a name="sources"></a>
    <h2>Section 6: Obtaining Source Code, Game Paks, and Libs</h2>
    <p>We are now ready to get the source code for GtkRadiant.</p>
    <h3>Step A: Get Base Project</h3>
    <p>
      Open an Git Bash shell.  When you start the shell, you will be in what is called your "home directory".  You can execute the
      <tt>pwd</tt> command in Git Bash to find out which directory you are currently in.  For example, when I start Git Bash, my
      current directory is <tt>/c/Users/Christian</tt> .
    </p>
    <p>
      In any case, we need to create ourselves a work area for purposes of downloading files and compiling software.  I would recommend
      creating a directory <tt>radiant-work</tt> in your home directory.  So:
    </p>
    <blockquote>
      <pre width="80" style="background: #CCCCCC; padding: 2mm; border-style: ridge">$ <b>mkdir radiant-work</b>
</pre>
    </blockquote>
    <p>Now, we're going to change to that directory and get the base GtkRadiant project:</p>
    <blockquote>
      <pre width="88" style="background: #CCCCCC; padding: 2mm; border-style: ridge">$ <b>cd radiant-work</b>
$ <b>git clone git://github.com/TTimo/GtkRadiant.git</b>
</pre>
    </blockquote>
    <p>We created the extra <tt>radiant-work</tt> parent directory of <tt>GtkRadiant</tt> because the following step will
      place many files into the project's parent directory, and we don't want to litter our home directory with these files.</p>
    <h3>Step B: Execute SCons Build Target</h3>
    <p>
      Remember all the work we did earlier in order to install SCons?  Well, thanks to all that work we did,
      obtaining the remaining things we need for compiling is really really easy:
    </p>
	<p>
	  Open a cmd shell and execute:
	</p>
    <blockquote>
      <pre width="80" style="background: #CCCCCC; padding: 2mm; border-style: ridge">$ <b>cd radiant-work\GtkRadiant</b>
$ <b>C:\Python27\Scripts\scons.bat target=setup</b>
</pre>
    </blockquote>
    <p>This SCons build target performs several actions:</p>
    <ul>
      <li>Downloads "install paks" for several games such as Quake III Arena and Urban Terror.</li>
      <li>Downloads library dependencies (such as GTK+) for building and running GtkRadiant.</li>
      <li>Places library dependencies in proper locations.</li>
      <li>Performs any other actions needed prior to compiling GtkRadiant.</li>
    </ul>
    <hr />
    <br />
    <a name="compile"></a>
    <h2>Section 7: Compiling GtkRadiant</h2>
    <p>We are now finally going to compile GtkRadiant using Microsoft Visual C++.</p>
    <p>
      Start Microsoft Visual C++.  From the "File" menu, choose "Open" -> "Project/Solution...".
      Navigate to your <tt>GtkRadiant</tt> directory (in my case <tt>C:\Users\Christian\radiant-work\GtkRadiant</tt>).
      Choose the project file <tt>radiant.sln</tt> from this directory.
    </p>
    <p>
      You now have the GtkRadiant project loaded in Visual C++.  You can poke around if you like, e.g. open up some source code
      files and edit them.
    </p>
    <p>
      Before you build the project, you might want to select the "Release" target (as pictured below).
    </p>
    <table border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td width="20">&nbsp;</td>
        <td><img src="vc-radiant-release.png" alt="vc-radiant-release.png"></img></td>
      </tr>
    </table>
    <p>
      To build GtkRadiant, choose "Build Solution" from the "Build" menu.  The build will take
      about 10 minutes [on a Pentium 4 with HTT], so this would be a good time to go get a cup of tea.
    </p>
    <p>If the build completes successfully, you will get a message similar to the following in the output
      of Visual C++:</p>
    <blockquote>
      <pre width="80" style="background: #CCCCCC; padding: 2mm; border-style: ridge">radiant - 0 error(s), 0 warning(s)
========== Build: 38 succeeded, 0 failed, 0 up-to-date, 0 skipped ==========
</pre>
    </blockquote>
    <hr />
    <br />
    <a name="run"></a>
    <h2>Section 8: Running GtkRadiant</h2>
    <p>All of the files needed to run GtkRadiant are going to be in the folder <tt>radiant-work\GtkRadiant\install</tt> [relative
      to your home directory].  You can copy the entire <tt>install</tt> folder to some place such as your Desktop
      and you can rename this folder to <tt>ZeroRadiant</tt> for example.
      Then, you will use <tt>radiant.exe</tt> in that directory to launch the application.
    </p>
    <p>
      There is one little bit of optional cleanup you can perform on your installation folder.  You can remove all SVN-related
      files since they are no longer needed and only take up disk space.  Let's say that you renamed your installation folder
      to <tt>ZeroRadiant</tt> (as the previous paragraph suggests), and let's say that you're in the cmd shell, and that your current
      working directory is the directory of <tt>ZeroRadiant</tt>.  Then, in your cmd shell, you can execute this command to
      delete all SVN-related files (all <tt>.svn</tt> directories):
    </p>
    <blockquote>
      <pre width="80" style="background: #CCCCCC; padding: 2mm; border-style: ridge">$ <b>for /r %R in (.svn) do if exist %R (rd /s /q "%R")</b>
</pre>
    </blockquote>
    <p>
      That's it!  Good luck and thanks for reading this enhanced tutorial!  If you have comments or suggestions please email me at nlandys@gmail.com or the updater christian_ratzenhofer@yahoo.de.
      More information about GtkRadiant is on <a href="http://icculus.org/gtkradiant/">icculus.org/gtkradiant</a>.
    </p>
    <br />
    <br />
  </body>
</html>
